{"ast":null,"code":"var _jsxFileName = \"/Users/as_alkinani/Downloads/Learning/Masyter Cyber Security/TeamProjectA/fortify/project/Fortify/website/front-end/fortify/src/component/navbar/SignIn.js\",\n  _s = $RefreshSig$();\n//Page done by David Wang\n//Arthur is Ali Al-kinani\n// date 15/DEC 2022\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport Form from 'react-bootstrap/Form';\nimport { useContext, useEffect, useState } from 'react';\nimport './style.css';\nimport { UserContext } from '../../contexts/user.context';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SignInPage = props => {\n  _s();\n  const navigate = useNavigate();\n  const location = useLocation();\n  // We are consuming our user-management context to\n  // get & set the user details here\n  const {\n    user,\n    fetchUser,\n    emailPasswordLogin\n  } = useContext(UserContext);\n\n  // We are using React's \"useState\" hook to keep track\n  //  of the form values.\n  const [form, setForm] = useState({\n    email: '',\n    password: ''\n  });\n  // This function will be called whenever the user edits the form.\n  const onFormInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setForm({\n      ...form,\n      [name]: value\n    });\n  };\n  // This function will redirect the user to the\n  // appropriate page once the authentication is done.\n  const redirectNow = () => {\n    const redirectTo = location.search.replace('?redirectTo=', '');\n    navigate(redirectTo ? redirectTo : '/');\n  };\n  // Once a user logs in to our app, we don’t want to ask them for their\n  // credentials again every time the user refreshes or revisits our app,\n  // so we are checking if the user is already logged in and\n  // if so we are redirecting the user to the home page.\n  // Otherwise we will do nothing and let the user to login.\n  const loadUser = async () => {\n    if (!user) {\n      const fetchedUser = await fetchUser();\n      if (fetchedUser) {\n        // Redirecting them once fetched.\n        redirectNow();\n      }\n    }\n  };\n  // This useEffect will run only once when the component is mounted.\n  // Hence this is helping us in verifying whether the user is already logged in\n  // or not.\n  useEffect(() => {\n    loadUser(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  // This function gets fired when the user clicks on the \"Login\" button.\n  const onSubmit = async event => {\n    try {\n      // Here we are passing user details to our emailPasswordLogin\n      // function that we imported from our realm/authentication.js\n      // to validate the user credentials and log in the user into our App.\n      const user = await emailPasswordLogin(form.email, form.password);\n      if (user) {\n        redirectNow();\n      }\n    } catch (error) {\n      if (error.statusCode === 401) {\n        alert('Invalid username/password. Try again!');\n      } else {\n        alert(error);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    className: \"modalSignIn\",\n    ...props,\n    size: \"lg\",\n    \"aria-labelledby\": \"contained-modal-title-vcenter\",\n    centered: true,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      closeButton: true,\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        id: \"contained-modal-title-vcenter\",\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"exampleForm.ControlInput1\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Email address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            name: \"email\",\n            type: \"email\",\n            placeholder: \"name@example.com\",\n            value: form.email,\n            onChange: onFormInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"password\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            name: \"password\",\n            type: \"password\",\n            placeholder: \"Password\",\n            value: form.password,\n            onChange: onFormInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        variant: \"success\",\n        onClick: onSubmit,\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"danger\",\n        onClick: props.onHide,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n_s(SignInPage, \"HtFICaub8aCFbRhMS/ZqadkNKQg=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = SignInPage;\nexport default SignInPage;\nvar _c;\n$RefreshReg$(_c, \"SignInPage\");","map":{"version":3,"names":["Button","Modal","Form","useContext","useEffect","useState","UserContext","useLocation","useNavigate","SignInPage","props","navigate","location","user","fetchUser","emailPasswordLogin","form","setForm","email","password","onFormInputChange","event","name","value","target","redirectNow","redirectTo","search","replace","loadUser","fetchedUser","onSubmit","error","statusCode","alert","onHide"],"sources":["/Users/as_alkinani/Downloads/Learning/Masyter Cyber Security/TeamProjectA/fortify/project/Fortify/website/front-end/fortify/src/component/navbar/SignIn.js"],"sourcesContent":["//Page done by David Wang\n//Arthur is Ali Al-kinani\n// date 15/DEC 2022\nimport Button from 'react-bootstrap/Button'\nimport Modal from 'react-bootstrap/Modal'\nimport Form from 'react-bootstrap/Form'\nimport { useContext, useEffect, useState } from 'react'\nimport './style.css'\nimport { UserContext } from '../../contexts/user.context'\nimport { useLocation, useNavigate } from 'react-router-dom'\n\nconst SignInPage = (props) => {\n  const navigate = useNavigate()\n  const location = useLocation()\n  // We are consuming our user-management context to\n  // get & set the user details here\n  const { user, fetchUser, emailPasswordLogin } = useContext(UserContext)\n\n  // We are using React's \"useState\" hook to keep track\n  //  of the form values.\n  const [form, setForm] = useState({\n    email: '',\n    password: '',\n  })\n  // This function will be called whenever the user edits the form.\n  const onFormInputChange = (event) => {\n    const { name, value } = event.target\n    setForm({ ...form, [name]: value })\n  }\n  // This function will redirect the user to the\n  // appropriate page once the authentication is done.\n  const redirectNow = () => {\n    const redirectTo = location.search.replace('?redirectTo=', '')\n    navigate(redirectTo ? redirectTo : '/')\n  }\n  // Once a user logs in to our app, we don’t want to ask them for their\n  // credentials again every time the user refreshes or revisits our app,\n  // so we are checking if the user is already logged in and\n  // if so we are redirecting the user to the home page.\n  // Otherwise we will do nothing and let the user to login.\n  const loadUser = async () => {\n    if (!user) {\n      const fetchedUser = await fetchUser()\n      if (fetchedUser) {\n        // Redirecting them once fetched.\n        redirectNow()\n      }\n    }\n  }\n  // This useEffect will run only once when the component is mounted.\n  // Hence this is helping us in verifying whether the user is already logged in\n  // or not.\n  useEffect(() => {\n    loadUser() // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n  // This function gets fired when the user clicks on the \"Login\" button.\n  const onSubmit = async (event) => {\n    try {\n      // Here we are passing user details to our emailPasswordLogin\n      // function that we imported from our realm/authentication.js\n      // to validate the user credentials and log in the user into our App.\n      const user = await emailPasswordLogin(form.email, form.password)\n      if (user) {\n        redirectNow()\n      }\n    } catch (error) {\n      if (error.statusCode === 401) {\n        alert('Invalid username/password. Try again!')\n      } else {\n        alert(error)\n      }\n    }\n  }\n  return (\n    <Modal\n      className=\"modalSignIn\"\n      {...props}\n      size=\"lg\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title id=\"contained-modal-title-vcenter\">Sign In</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <Form>\n          <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\n            <Form.Label>Email address</Form.Label>\n            <Form.Control\n              name=\"email\"\n              type=\"email\"\n              placeholder=\"name@example.com\"\n              value={form.email}\n              onChange={onFormInputChange}\n            />\n          </Form.Group>\n          <Form.Group className=\"mb-3\" controlId=\"password\">\n            <Form.Label>Password</Form.Label>\n\n            <Form.Control\n              name=\"password\"\n              type=\"password\"\n              placeholder=\"Password\"\n              value={form.password}\n              onChange={onFormInputChange}\n            />\n          </Form.Group>\n        </Form>\n      </Modal.Body>\n\n      <Modal.Footer>\n        <Button variant=\"success\" onClick={onSubmit}>\n          Sign In\n        </Button>\n        <Button variant=\"danger\" onClick={props.onHide}>\n          Cancel\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  )\n}\nexport default SignInPage\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}